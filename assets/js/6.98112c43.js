(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{206:function(e,r,t){"use strict";t.r(r);var n=t(0),s=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"build-libtorch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-libtorch"}},[e._v("#")]),e._v(" build libtorch")]),e._v(" "),t("h2",{attrs:{id:"using-conda-to-prepare"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-conda-to-prepare"}},[e._v("#")]),e._v(" Using conda to prepare")]),e._v(" "),t("p",[e._v("https://github.com/pytorch/pytorch#from-source")]),e._v(" "),t("h2",{attrs:{id:"set-enviroment-viriables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-enviroment-viriables"}},[e._v("#")]),e._v(" Set enviroment viriables")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export CC=/cvmfs/dune.opensciencegrid.org/products/dune/gcc/v7_3_0/Linux64bit+3.10-2.17/bin/gcc\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build"}},[e._v("#")]),e._v(" Build")]),e._v(" "),t("p",[e._v("https://github.com/pytorch/pytorch/blob/master/docs/libtorch.rst")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cd <pytorch_root>\n\n# Make a new folder to build in to avoid polluting the source directories\nmkdir build_libtorch && cd build_libtorch\n\n# You might need to export some required environment variables here.\nNormally setup.py sets good default env variables, but you'll have to do\nthat manually.\npython ../tools/build_libtorch.py\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("p",[e._v("Takes about 1 hour. Compiling "),t("code",[e._v(".cu")]),e._v(" in Coffe2 is really slow")]),e._v(" "),t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developers.redhat.com/blog/2015/02/05/gcc5-and-the-c11-abi/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GCC5 and the C++11 ABI"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/pytorch/pytorch/issues/27834",target:"_blank",rel:"noopener noreferrer"}},[e._v("linker error in building a minimal C++ application"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://discuss.pytorch.org/t/glibc-linker-errors-when-linking-against-libtorch-on-ubuntu-18-04/55183/11",target:"_blank",rel:"noopener noreferrer"}},[e._v("GLIBC linker errors when linking against libtorch on Ubuntu 18.04"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/pytorch/pytorch/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("pytorch releases"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://cdcvs.fnal.gov/redmine/projects/build-framework/repository/libtorch-ssi-build",target:"_blank",rel:"noopener noreferrer"}},[e._v("libtorch-ssi-build"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/NVIDIA-AI-IOT/torch2trt/issues/217",target:"_blank",rel:"noopener noreferrer"}},[e._v("undefined symbol: _ZN3c1014DeviceTypeNameB5cxx11ENS_10DeviceTypeEb"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.tensorflow.org/install/lang_c",target:"_blank",rel:"noopener noreferrer"}},[e._v("Install TensorFlow for C"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=s.exports}}]);