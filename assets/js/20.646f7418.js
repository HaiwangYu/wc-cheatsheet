(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{221:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sim-track-eval"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sim-track-eval"}},[t._v("#")]),t._v(" sim track eval")]),t._v(" "),s("p",[t._v("Obtain the macros:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" sp_eval\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/HaiwangYu/wct-track-eval.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("In wct-track-eval:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("python test_gen_rays_pdsp.py "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" rays_45.json\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("make a copy of the https://github.com/WireCell/wire-cell-cfg/\nin sp_eval")]),t._v(" "),s("p",[t._v("In sp_eval:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("jsonnet -J cfg track-eval.jsonnet -o track-eval.json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" wire-cell -l stdout:info -c track-eval.json\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Use the original field resp. to obtain the "),s("code",[t._v("test.root")])]),t._v(" "),s("p",[t._v("Then modify this part to use all collection field response to obtain a "),s("code",[t._v("truth.root")])]),t._v(" "),s("ul",[s("li",[t._v("https://github.com/WireCell/wire-cell-cfg/blob/master/pgrapher/experiment/pdsp/params.jsonnet#L159-L163")])]),t._v(" "),s("p",[t._v("Extract Bias/Resolution/In-eficiency like this for the "),s("code",[t._v("u")]),t._v(" plane:")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("root -l wct-track-eval/TrackEval.C"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"truth.root'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('",'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"test.root'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('",'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"u'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('",45'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Hanyu's macros:")]),t._v(" "),s("ul",[s("li",[t._v("https://www.phy.bnl.gov/~weihy/protoDUNE/SP-eval/TrackEval.C")]),t._v(" "),s("li",[t._v("https://www.phy.bnl.gov/~weihy/protoDUNE/SP-eval/PlotLineChargeRBE.C")])]),t._v(" "),s("p",[t._v("Wenqiang's field resp:")]),t._v(" "),s("ul",[s("li",[t._v("https://github.com/WireCell/wire-cell-data/blob/master/garfield-1d-boundary-path-rev-dune-ALL-COLLECTION.json.bz2")])]),t._v(" "),s("p",[t._v("Wenqiang's macro:")]),t._v(" "),s("ul",[s("li",[t._v("https://github.com/WireCell/wire-cell-cfg/blob/master/pgrapher/experiment/pdsp/Quickstart/test_gen_rays_pdsp.py")])])])}),[],!1,null,null,null);a.default=n.exports}}]);