<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install wire-cell with singularity container | wc-cheatsheet</title>
    <meta name="description" content="Welcome to wc-cheatsheet">
    
    
    <link rel="preload" href="/wc-cheatsheet/assets/css/0.styles.6e230951.css" as="style"><link rel="preload" href="/wc-cheatsheet/assets/js/app.1922c60f.js" as="script"><link rel="preload" href="/wc-cheatsheet/assets/js/2.8cdd37ae.js" as="script"><link rel="preload" href="/wc-cheatsheet/assets/js/15.18af2d61.js" as="script"><link rel="prefetch" href="/wc-cheatsheet/assets/js/10.9a34c3bb.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/11.a7db43c3.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/12.dff25f53.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/13.cbe100bd.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/14.2a97e355.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/16.1de43263.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/17.668d2a02.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/18.a49c10e4.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/19.7df98b3f.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/20.646f7418.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/21.bbaf6c29.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/22.4bb8f28a.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/23.3816248f.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/24.17e855d4.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/3.562a7622.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/4.50ca0c84.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/5.61b1d687.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/6.98112c43.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/7.d55822ef.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/8.01eeec81.js"><link rel="prefetch" href="/wc-cheatsheet/assets/js/9.3f489b3f.js">
    <link rel="stylesheet" href="/wc-cheatsheet/assets/css/0.styles.6e230951.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wc-cheatsheet/" class="home-link router-link-active"><img src="/wc-cheatsheet/img/logo.png" alt="wc-cheatsheet" class="logo"> <span class="site-name can-hide">wc-cheatsheet</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wc-cheatsheet/" class="nav-link">Main</a></div> <a href="https://github.com/HaiwangYu/wc-cheatsheet" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wc-cheatsheet/" class="nav-link">Main</a></div> <a href="https://github.com/HaiwangYu/wc-cheatsheet" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/wc-cheatsheet/cuda-dev.html" class="sidebar-link">cuda dev</a></li><li><a href="/wc-cheatsheet/rootlogon.html" class="sidebar-link">rootlogon</a></li><li><a href="/wc-cheatsheet/build-libtorch.html" class="sidebar-link">build libtorch</a></li><li><a href="/wc-cheatsheet/docker-quick-start.html" class="sidebar-link">docker</a></li><li><a href="/wc-cheatsheet/singularity-with-cuda.html" class="sidebar-link">Singularity GPU support</a></li><li><a href="/wc-cheatsheet/hdf5.html" class="sidebar-link">hdf5</a></li><li><a href="/wc-cheatsheet/gdb.html" class="sidebar-link">gdb</a></li><li><a href="/wc-cheatsheet/git.html" class="sidebar-link">git</a></li><li><a href="/wc-cheatsheet/make-ups.html" class="sidebar-link">ssi build shim</a></li><li><a href="/wc-cheatsheet/lar-cmd.html" class="sidebar-link">lar cmd</a></li><li><a href="/wc-cheatsheet/larsoft-update-with-new-release.html" class="sidebar-link">larsoft update with new release</a></li><li><a href="/wc-cheatsheet/sim-track-eval.html" class="sidebar-link">sim track eval</a></li><li><a href="/wc-cheatsheet/install-wirecell-sigularity.html" class="active sidebar-link">Install wire-cell with singularity container</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wc-cheatsheet/install-wirecell-sigularity.html#a-singularity-and-cvmfs" class="sidebar-link">A) singularity and cvmfs</a></li><li class="sidebar-sub-header"><a href="/wc-cheatsheet/install-wirecell-sigularity.html#b-wcdo" class="sidebar-link">B) wcdo</a></li></ul></li><li><a href="/wc-cheatsheet/install-cvmfs-singularity.html" class="sidebar-link">Install singularity and cvmfs on Ubuntu 18.04</a></li><li><a href="/wc-cheatsheet/install-root.html" class="sidebar-link">install root</a></li><li><a href="/wc-cheatsheet/using-vscode.html" class="sidebar-link">vscode</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="install-wire-cell-with-singularity-container"><a href="#install-wire-cell-with-singularity-container" class="header-anchor">#</a> Install wire-cell with singularity container</h1> <p>This is a markdown version of Wenqiang's google doc <a href="https://docs.google.com/document/d/1cXfifmLUx6UroHm66uJRzG1PEYJ7jLFNRA1LDZ7y5ls/edit" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, with some updates that works on July 10th 2019 for the following versions:</p> <ul><li>larsoft version: <code>v08_47_00</code></li> <li>larwirecell version: <code>v08_12_06</code></li> <li>Check <a href="https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/LArSoft_release_list" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the latest version</li></ul> <h2 id="a-singularity-and-cvmfs"><a href="#a-singularity-and-cvmfs" class="header-anchor">#</a> A) singularity and cvmfs</h2> <p>Install singlularity and cvmfs following <a href="https://github.com/WireCell/wire-cell-singularity" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="b-wcdo"><a href="#b-wcdo" class="header-anchor">#</a> B) wcdo</h2> <p>This step-by-setp guide showed an example of using wcdo.  For more, refer <a href="https://github.com/WireCell/wire-cell-singularity/blob/master/wcdo.org" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="b-0-download-copy-the-following-wcdo-sh-script-somewhere-in-your-path-and-make-sure-it-is-executable"><a href="#b-0-download-copy-the-following-wcdo-sh-script-somewhere-in-your-path-and-make-sure-it-is-executable" class="header-anchor">#</a> B.0) Download/copy the following <code>wcdo.sh</code> script somewhere in your <code>$PATH</code> and make sure it is executable.</h3> <ul><li><a href="https://raw.githubusercontent.com/WireCell/wire-cell-singularity/master/wcdo.sh" target="_blank" rel="noopener noreferrer">wcdo.sh<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="b-1-obain-and-configure-a-singularity-image"><a href="#b-1-obain-and-configure-a-singularity-image" class="header-anchor">#</a> B.1) Obain and configure a singularity image</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p ~/wcdo/example
<span class="token builtin class-name">cd</span> ~/wcdo/example
wcdo.sh init
wcdo.sh wct
wcdo.sh get-image sl7krb
wcdo.sh make-project myproj sl7krb
<span class="token function">vim</span> wcdo-local-myproj.rc
<span class="token assign-left variable">wcdo_mrb_project_name</span><span class="token operator">=</span><span class="token string">&quot;larsoft&quot;</span>
<span class="token assign-left variable">wcdo_mrb_project_version</span><span class="token operator">=</span><span class="token string">&quot;v08_47_00&quot;</span>
<span class="token assign-left variable">wcdo_mrb_project_quals</span><span class="token operator">=</span><span class="token string">&quot;e19:prof&quot;</span>
./wcdo-myproj.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="b-2-install-ups-and-wcdo"><a href="#b-2-install-ups-and-wcdo" class="header-anchor">#</a> B.2) install ups and wcdo</h3> <p><strong>in the singularity container</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">source</span> /cvmfs/dune.opensciencegrid.org/products/dune/setup_dune.sh
path-prepend <span class="token variable">$wcdo_ups_products</span> PRODUCTS
wcdo-mrb-init <span class="token comment"># call mrb newDev if localsetup doesn't exist</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>output</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>IMPORTANT: You must <span class="token builtin class-name">type</span>
    <span class="token builtin class-name">source</span> /wcdo/src/mrb/localProducts_larsoft_v08_47_00_e19_prof/setup
NOW and whenever you log <span class="token keyword">in</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>chekcout a branch ()</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>wcdo-mrb-add-source larwirecell v081206 v08_12_06
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Cloning into <span class="token string">'larwirecell'</span><span class="token punctuation">..</span>.
X11 forwarding request failed on channel <span class="token number">0</span>
remote: Enumerating objects: <span class="token number">32</span>, done.
remote: Counting objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">32</span>/32<span class="token punctuation">)</span>, done.
remote: Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">29</span>/29<span class="token punctuation">)</span>, done.
remote: Total <span class="token number">2686</span> <span class="token punctuation">(</span>delta <span class="token number">10</span><span class="token punctuation">)</span>, reused <span class="token number">22</span> <span class="token punctuation">(</span>delta <span class="token number">3</span><span class="token punctuation">)</span>, pack-reused <span class="token number">2654</span>
Receiving objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">2686</span>/2686<span class="token punctuation">)</span>, <span class="token number">347.26</span> KiB <span class="token operator">|</span> <span class="token number">19.29</span> MiB/s, done.
Resolving deltas: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">1498</span>/1498<span class="token punctuation">)</span>, done.
INFO: CMakeLists.txt entry <span class="token keyword">for</span> product larwirecell already exists.
wcdo-mrb-add-source: creating starting branch v081206 from v08_12_06
Switched to a new branch <span class="token string">'v081206'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>build wirecell</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>wcdo-ups-declare wirecell wctdev <span class="token comment"># generate table file according to current dependency tree</span>
setup wirecell wctdev -q e19:prof
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The most recent wire-cell-toolkit needs spdlog, following <a href="https://brettviren.github.io/zio/install.html#org05744f0" target="_blank" rel="noopener noreferrer">this<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to install.</p> <p>Older version does not need that. Checkout an older version:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /wcdo/src/wct
<span class="token function">git</span> checkout -b dev <span class="token number">0.13</span>.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>configure, build and install</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>wcdo-ups-wct-configure-source
./wcb -p --notests <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>output</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Checking <span class="token keyword">for</span> program <span class="token string">'rootcint'</span>          <span class="token builtin class-name">:</span> /cvmfs/larsoft.opensciencegrid.org/products/root/v6_12_06a/Linux64bit+3.10-2.17-e19-prof/bin/rootcint 
Checking <span class="token keyword">for</span> program <span class="token string">'rlibmap'</span>           <span class="token builtin class-name">:</span> not found 
Checking <span class="token keyword">for</span> header Rtypes.h             <span class="token builtin class-name">:</span> <span class="token function">yes</span> 
Checking <span class="token keyword">for</span> program <span class="token string">'dpkg-architecture'</span> <span class="token builtin class-name">:</span> not found 
Checking boost includes                  <span class="token builtin class-name">:</span> <span class="token number">1.66</span>.0 
<span class="token punctuation">..</span>.
Waf: Entering directory <span class="token variable"><span class="token variable">`</span>/wcdo/src/wct/build'
Building: apps, cfg, gen, iface, img, pgraph, ress, root, sigproc, sio, util
<span class="token punctuation">[</span><span class="token number">206</span>/206<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">100</span>%<span class="token punctuation">]</span><span class="token punctuation">[</span>-<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>13m28.686s<span class="token punctuation">]</span>
Waf: Leaving directory <span class="token variable">`</span></span>/wcdo/src/wct/build<span class="token string">'
'</span>install' finished successfully <span class="token punctuation">(</span>13m28.745s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>setup wirecell wctdev -q e19:prof
wcdo-wirecell-path default
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Build larwirecell</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /wcdo/src/mrb/srcs/larwirecell/ups/product_deps
<span class="token punctuation">(</span>change: wirecell v0_10_5 <span class="token operator">==</span><span class="token operator">&gt;</span> wirecell wctdev<span class="token punctuation">)</span>

mrbsetenv
mrb i
mrbslp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="b-3-test-you-should-see-similar-results"><a href="#b-3-test-you-should-see-similar-results" class="header-anchor">#</a> B.3) Test: you should see similar results</h3> <p><strong>test 1</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ups active <span class="token operator">|</span> <span class="token function">grep</span> wirecell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>larwirecell v08_05_08 -f Linux64bit+4.18-2.17 -q e19:prof -z /wcdo/src/mrb/localProducts_larsoft_v08_47_00_e19_prof
wirecell wctdev -f Linux64bit+4.18-2.17-sl7-6 -q e19:prof -z /wcdo/lib/ups
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>test 2</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ups list -aK+ wirecell <span class="token operator">|</span> <span class="token function">tail</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>output</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+2.6-2.12&quot;</span> <span class="token string">&quot;c2:debug&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Darwin64bit+18&quot;</span> <span class="token string">&quot;c2:debug&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+2.6-2.12&quot;</span> <span class="token string">&quot;e19:prof&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+2.6-2.12&quot;</span> <span class="token string">&quot;debug:e19&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Darwin64bit+17&quot;</span> <span class="token string">&quot;c2:prof&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Darwin64bit+17&quot;</span> <span class="token string">&quot;c2:debug&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+3.10-2.17&quot;</span> <span class="token string">&quot;debug:e19:py3&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+3.10-2.17&quot;</span> <span class="token string">&quot;e19:prof:py3&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+3.10-2.17&quot;</span> <span class="token string">&quot;c2:prof:py3&quot;</span> <span class="token string">&quot;&quot;</span> 
<span class="token string">&quot;wirecell&quot;</span> <span class="token string">&quot;v0_12_3&quot;</span> <span class="token string">&quot;Linux64bit+3.10-2.17&quot;</span> <span class="token string">&quot;c2:debug:py3&quot;</span> <span class="token string">&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>So far, you should have a workable singularity with wirecell + larsoft.</p> <h3 id="examples-of-wcdo-local-myproj-rc"><a href="#examples-of-wcdo-local-myproj-rc" class="header-anchor">#</a> examples of wcdo-local-myproj.rc</h3> <p><strong>Haiwang's</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># This is a local wcdo rc file for project myproj.</span>
<span class="token comment"># It was initally generated but is recomended for customizing by you, dear user.</span>
<span class="token comment"># It is included at the end of the main RC files.</span>
    
<span class="token comment"># These are optional but required if wcdo-mrb-* commands are to be used.</span>
<span class="token assign-left variable">wcdo_mrb_project_name</span><span class="token operator">=</span><span class="token string">&quot;larsoft&quot;</span>
<span class="token assign-left variable">wcdo_mrb_project_version</span><span class="token operator">=</span><span class="token string">&quot;v08_47_00&quot;</span>
<span class="token assign-left variable">wcdo_mrb_project_quals</span><span class="token operator">=</span><span class="token string">&quot;e19:prof&quot;</span>

<span class="token builtin class-name">source</span> /cvmfs/dune.opensciencegrid.org/products/dune/setup_dune.sh
path-prepend <span class="token variable">$wcdo_ups_products</span> PRODUCTS
<span class="token comment">#setup dunetpc ${wcdo_mrb_project_version} -q ${wcdo_mrb_project_quals}</span>
wcdo-mrb-init
wcdo-ups-init

setup wirecell wctdev -q e19:prof
<span class="token builtin class-name">export</span> <span class="token assign-left variable">WIRECELL_PATH</span><span class="token operator">=</span>/wcdo/src/wct/cfg:/wcdo/share/wirecell/data
<span class="token comment">#optional: wcdo-wirecell-path default</span>
<span class="token builtin class-name">echo</span> <span class="token assign-left variable">WIRECELL_PATH</span><span class="token operator">=</span><span class="token variable">$WIRECELL_PATH</span>

mrbsetenv
mrbslp
<span class="token builtin class-name">export</span> <span class="token assign-left variable">FHICL_FILE_PATH</span><span class="token operator">=</span><span class="token variable">$WIRECELL_PATH</span><span class="token builtin class-name">:</span><span class="token variable">$FHICL_FILE_PATH</span>

<span class="token comment"># personalize</span>
<span class="token builtin class-name">bind</span> <span class="token string">'&quot;<span class="token entity" title="\e">\e</span>[A&quot;:history-search-backward'</span> <span class="token comment">#PageUp</span>
<span class="token builtin class-name">bind</span> <span class="token string">'&quot;<span class="token entity" title="\e">\e</span>[B&quot;:history-search-forward'</span> <span class="token comment">#PageDown</span>
<span class="token builtin class-name">set</span> autolist
<span class="token builtin class-name">set</span> autoexpand
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'[s]<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span><span class="token entity" title="\n">\n</span>$'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -lh'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">vi</span><span class="token operator">=</span><span class="token string">'vim'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>Now please enjoy it: ./wcdo-myproj.sh</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/HaiwangYu/wc-cheatsheet/edit/master/install-wirecell-sigularity.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/17/2020, 3:23:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wc-cheatsheet/sim-track-eval.html" class="prev">sim track eval</a></span> <span class="next"><a href="/wc-cheatsheet/install-cvmfs-singularity.html">Install singularity and cvmfs on Ubuntu 18.04</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wc-cheatsheet/assets/js/app.1922c60f.js" defer></script><script src="/wc-cheatsheet/assets/js/2.8cdd37ae.js" defer></script><script src="/wc-cheatsheet/assets/js/15.18af2d61.js" defer></script>
  </body>
</html>
